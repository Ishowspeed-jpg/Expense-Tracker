<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Expense Tracker</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >

  <style>
    body {
      background: #f5f6fa;
    }
    .card {
      border-radius: 12px;
    }
    .income {
      color: green;
    }
    .expense {
      color: red;
    }
  </style>
</head>
<body>

<div class="container mt-5">
  <h2 class="text-center mb-4">Expense Tracker</h2>

  <!-- Summary -->
  <div class="row mb-4">
    <div class="col-md-4">
      <div class="card p-3 text-center">
        <h5>Balance</h5>
        <h4 id="balance">₹0</h4>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card p-3 text-center">
        <h5>Income</h5>
        <h4 class="income" id="income">₹0</h4>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card p-3 text-center">
        <h5>Expense</h5>
        <h4 class="expense" id="expense">₹0</h4>
      </div>
    </div>
  </div>

  <!-- Add Transaction -->
  <div class="card p-4 mb-4">
    <h5>Add Transaction</h5>
    <input type="text" id="title" class="form-control mb-2" placeholder="Title">
    <input type="number" id="amount" class="form-control mb-2" placeholder="Amount">
    <select id="type" class="form-control mb-3">
      <option value="income">Income</option>
      <option value="expense">Expense</option>
    </select>
    <button class="btn btn-primary w-100" onclick="addTransaction()">Add</button>
  </div>

  <!-- Transaction List -->
  <div class="card p-4">
    <h5>History</h5>
    <ul class="list-group" id="list"></ul>
  </div>
</div>

<script>
  let transactions = JSON.parse(localStorage.getItem("transactions")) || [];

  function updateUI() {
    const list = document.getElementById("list");
    list.innerHTML = "";

    let income = 0, expense = 0;

    transactions.forEach((t, index) => {
      if (t.type === "income") income += t.amount;
      else expense += t.amount;

      const li = document.createElement("li");
      li.className = "list-group-item d-flex justify-content-between";
      li.innerHTML = `
        ${t.title}
        <span class="${t.type}">
          ${t.type === "income" ? "+" : "-"}₹${t.amount}
          <button class="btn btn-sm btn-danger ms-2" onclick="removeTransaction(${index})">X</button>
        </span>
      `;
      list.appendChild(li);
    });

    document.getElementById("income").innerText = "₹" + income;
    document.getElementById("expense").innerText = "₹" + expense;
    document.getElementById("balance").innerText = "₹" + (income - expense);
  }

  function addTransaction() {
    const title = document.getElementById("title").value;
    const amount = Number(document.getElementById("amount").value);
    const type = document.getElementById("type").value;

    if (title === "" || amount <= 0) return;

    transactions.push({ title, amount, type });
    localStorage.setItem("transactions", JSON.stringify(transactions));

    document.getElementById("title").value = "";
    document.getElementById("amount").value = "";

    updateUI();
  }

  function removeTransaction(index) {
    transactions.splice(index, 1);
    localStorage.setItem("transactions", JSON.stringify(transactions));
    updateUI();
  }

  updateUI();
</script>

</body>
</html>
